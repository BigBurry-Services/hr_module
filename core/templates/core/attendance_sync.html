{% extends 'core/dashboard_base.html' %}
{% load static %}

{% block dashboard_title %}Biometric Sync{% endblock %}

{% block page_title %}Biometric Device Attendance Sync{% endblock %}

{% block dashboard_content %}
    <div class="card">
        <p><strong>Last Sync Time:</strong> {{ last_sync_time|default:"Never" }}</p>
        <p><strong>Total Synced Logs:</strong> {{ total_synced_logs|default:0 }}</p>
        {% if errors %}
            <div class="text-danger"><strong>Errors:</strong></div>
            <ul>
                {% for error in errors %}
                    <li class="text-danger">{{ error }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-success">No errors reported during last sync.</p>
        {% endif %}
        <form method="post" action="{% url 'attendance_sync' %}" class="form-inline">
            {% csrf_token %}
            <button type="submit" class="btn">Manually Trigger Sync</button>
        </form>
    </div>
{% endblock %}