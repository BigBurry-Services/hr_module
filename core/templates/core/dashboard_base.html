{% extends 'core/base.html' %}
{% load static %}

{% block title %}{% block dashboard_title %}Dashboard{% endblock %}{% endblock %}

{% block content %}
<div class="dashboard-layout">
    <div class="sidebar">
        <h2><span style="color: var(--secondary-color);">HR</span> Module</h2>
        <ul>
            <li><a href="{% url 'dashboard' %}"
                    class="{% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
                    <span>ğŸ </span> Dashboard
                </a></li>

            {% if user.is_superuser or user.hrprofile.role == 0 %}
            <li><a href="{% url 'manage_hrs' %}"
                    class="{% if 'manage_hr' in request.resolver_match.url_name %}active{% endif %}">
                    <span>ğŸ‘¥</span> Manage System Users
                </a></li>
            {% endif %}
            <li><a href="{% url 'employee_list' %}"
                    class="{% if request.resolver_match.url_name == 'employee_list' %}active{% endif %}">
                    <span>ğŸ‘¥</span> Manage Employee
                </a></li>
            <li><a href="{% url 'attendance_mark' %}"
                    class="{% if request.resolver_match.url_name == 'attendance_mark' %}active{% endif %}">
                    <span>ğŸ“…</span> Mark Attendance
                </a></li>
            <li><a href="{% url 'device_list' %}"
                    class="{% if request.resolver_match.url_name == 'device_list' %}active{% endif %}">
                    <span>ğŸ”„</span> Attendance Devices
                </a></li>
            <li><a href="{% url 'summary' %}"
                    class="{% if request.resolver_match.url_name == 'summary' %}active{% endif %}">
                    <span>ğŸ“Š</span> Summary
                </a></li>
            <li><a href="{% url 'department_list' %}"
                    class="{% if request.resolver_match.url_name == 'department_list' %}active{% endif %}">
                    <span>ğŸ¢</span> Manage Departments
                </a></li>
            <li><a href="{% url 'designation_list' %}"
                    class="{% if request.resolver_match.url_name == 'designation_list' %}active{% endif %}">
                    <span>ğŸ“›</span> Manage Designations
                </a></li>
            <li><a href="{% url 'allowance_list' %}"
                    class="{% if request.resolver_match.url_name == 'allowance_list' %}active{% endif %}">
                    <span>ğŸ’°</span> Manage Allowances
                </a></li>

            <div class="logout-link">
                <a href="{% url 'logout' %}"><span>ğŸšª</span> Logout</a>
            </div>

    </div>
    <div class="main-content">
        <div class="main-content-header" style="justify-content: space-between; display: flex; align-items: center;">
            <h1 style="margin: 0;">{% block page_title %}{% endblock %}</h1>
            <div class="user-info" style="text-align: right;">
                <span style="display: block; font-weight: bold;">{{ user.username }}</span>
                <span
                    style="font-size: 0.85em; color: #666; background: #e5e7eb; padding: 2px 8px; border-radius: 12px;">
                    {% if user.is_superuser %}Super Admin
                    {% elif user.hrprofile.role == 0 %}Administrator
                    {% elif user.hrprofile.role == 1 %}HR Manager
                    {% elif user.hrprofile.role == 2 %}Employee
                    {% else %}User
                    {% endif %}
                </span>
            </div>
        </div>
        {% block dashboard_content %}
        <h1>Welcome to the HR Dashboard!</h1>
        <p>Use the navigation on the left to manage employees, attendance, and view summaries.</p>
        {% endblock %}
    </div>
</div>
{% endblock %}